{% extends "base/base.html" %}
{% load crispy_forms_tags %}

{% block content %}
<div class="max-w-xl mx-auto mt-6">
    <div class="bg-white p-4 border rounded-lg rounded-lg shadow-md">
        <h3 class="text-gray-800 text-center text-2xl font-semibold">Create Note</h3>
        
        <div class="flex items-start space-x-3">
            <img class="w-10 h-10 rounded-full object-cover" src="{{ user.profile.image.url }}" alt="Profile Picture">
            <form method="POST">
                {% csrf_token %}
                
                <!-- Title Input -->
                <div>
                    {{ form.title|as_crispy_field }}
                </div>

                <!-- Content Input (TinyMCE) -->
                <div class="mt-2">
                    {{ form.content|as_crispy_field }}
                </div>

                <!-- Submit Button -->
                <div class="mt-3 flex justify-end">
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">
                        Save Note
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- TinyMCE Integration -->
<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
<script>
    tinymce.init({
        selector: '#id_content',
        height: 400,
        plugins: [
            'advlist autolink link image lists charmap print preview hr anchor pagebreak',
            'searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking',
            'table emoticons template paste help'
        ],
        toolbar: 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | ' +
            'bullist numlist outdent indent | link image | print preview media fullpage | ' +
            'forecolor backcolor emoticons | help',
        menubar: 'file edit view insert format tools table help',
    });
</script>

{% endblock content %}
